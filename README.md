# Проект Skypro Coursework 1

Этот проект представляет собой приложение для анализа финансовых данных с помощью различных сервисов, таких как курсы валют, стоимость акций и транзакции. Приложение включает несколько функциональных компонентов: генерацию отчетов, калькулятор для инвесткопилки, а также реализацию взаимодействий с внешними API для получения курсов валют и цен на акции.

## Установка:

Для установки и управления зависимостями проекта используется Poetry. Убедитесь, что у вас установлена последняя версия
Poetry. Если у вас его нет, установите его,
следуя [инструкциям на официальном сайте Poetry](https://python-poetry.org/docs/#installation).

1. Клонируйте репозиторий:

```
git clone https://github.com/LeojBang/skypro_coursework_1.git
```

2. Установите зависимости проекта:

```bash
poetry install
````
Или с помощью pip:
```bash
pip install -r requirements.txt
```

3. Настройка переменных окружения

``
 Создайте файл .env на основе шаблона .env.example и добавьте свои настройки.
``
4. Запуск проекта
```bash
python3 src/main.py
```
## Использование

1. Откройте скопированный проект.
2. Загрузите ваш файл с банковскими операциями в папку data в формате Excel.
3. Используйте модуль "main.py" запуска приложения


## Структура проекта

```
.
├── src
│   ├── init.py
│   ├── utils.py
│   ├── main.py
│   ├── views.py
│   ├── reports.py
│   └── services.py
├── data
│   ├── operations.xlsx
├── tests
│   ├── init.py
│   ├── conftest.py
│   ├── test_utils.py
│   ├── test_views.py
│   ├── test_reports.py
│   └── test_services.py
├── user_settings.json
├── .venv/
├── .env
├── .env_template
├── .git/
├── .idea/
├── .flake8
├── .gitignore
├── pyproject.toml
├── poetry.lock
└── README.md
```

## Описание функциональности

### 1. Главная страница
- Приветствие в зависимости от времени суток.
- Информация по картам: последние 4 цифры карты, общая сумма расходов, кешбэк.
- Топ-5 транзакций по сумме.
- Курсы валют (USD, EUR).
- Стоимость акций из S&P500.

Данные для анализа:
- Составляются по данным с начала месяца по текущую дату.
- Используются данные из файла `user_settings.json` для валют и акций.

Пример файла `user_settings.json`:

```json
{
  "user_currencies": ["USD", "EUR"],
  "user_stocks": ["AAPL", "AMZN", "GOOGL", "MSFT", "TSLA"]
}
```
### 2. Инвесткопилка
- Функция округляет траты по заданному порогу (например, до 10, 50 или 100 рублей).
- Оставшаяся разница между фактической суммой и округленной отправляется в «Инвесткопилку».

**Пример работы**:  
Покупка на 1712 ₽ с порогом округления 50 ₽ будет округлена до 1750 ₽, и 38 ₽ будут направлены в «Инвесткопилку».

### 3. Отчеты по категории
- Возможность генерировать отчеты по категориям расходов за последние три месяца.

**Функция**:  
Функция принимает на вход:
- датафрейм с транзакциями,
- название категории,
- опциональную дату.  
Если дата не передана, то берется текущая дата.  
Функция возвращает траты по заданной категории за последние три месяца.

### 4. Декораторы
- Использование декораторов для записи отчетов в файл с данными.
- Декоратор без параметров записывает отчет в файл с именем по умолчанию.
- Декоратор с параметром позволяет указать имя файла.

## Тестирование

Для Запуска тестов используйте команду
```bash
pytest
```

Пример тестов:

	•	Тесты для утилит: tests/test_utils.py
	•	Тесты для представлений: tests/test_views.py
	•	Тесты для отчетов: tests/test_reports.py
	•	Тесты для сервисов: tests/test_services.py

## Зависимости

Проект использует следующие библиотеки:

	•	requests для работы с внешними API.
	•	pandas для обработки данных.
	•	pytest для тестирования.
	•	datetime для работы с датами и временем.
	•	logging для ведения журналов.

### Контакты

Для вопросов и предложений, пожалуйста, свяжитесь со мной по электронной почте: m.merkulovdodo@gmail.com

## Лицензия
Этот файл `README.md` предоставляет общее представление о проекте, описывает его функциональность, установку и запуск. Убедитесь, что настроены зависимости и переменные окружения, и что ваш проект правильно работает с API для получения данных о курсах валют и акциях.

### Skypro